<!DOCTYPE html>
<html>
  <head>
    <title>GPS Dashboard</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <style> #map { height: 100vh; } </style>
  </head>
  <body>
    <div id="map"></div>
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script>
      const map = L.map('map').setView([6.45, 3.4], 12);
      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(map);
      const marker = L.marker([0, 0]).addTo(map);

      const ws = new WebSocket('ws://localhost:8080');
      ws.onopen = () => ws.send(JSON.stringify({ trackDriverId: 'driver-123' }));
      ws.onmessage = (e) => {
        const { lat, lng } = JSON.parse(e.data);
        marker.setLatLng([lat, lng]);
      };
    </script>
  </body>
</html>
